(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{1276:function(e,t,n){"use strict";t.a={computed:{preview:function(){var e,t;return(null===(e=this.item.urls)||void 0===e?void 0:e.png_128)||(null===(t=this.item.urls)||void 0===t?void 0:t.thumb)},preview2x:function(){var e,t;return(null===(e=this.item.urls)||void 0===e?void 0:e.png_256)||(null===(t=this.item.urls)||void 0===t?void 0:t.thumb)},href:function(){return this.itemRouter(this.item).href},url:function(){return"https://iconscout.com"+this.href}},methods:{itemRoute:function(e){var t,n=null;if("illustration"===e.asset&&null!==(t=e.additional_informations)&&void 0!==t&&t.kbi)n={name:"".concat(e.asset,"-kit-editor-slug"),params:{slug:e.slug,lang:e.lang}};else if(e.price>0)n={name:"".concat(e.asset,"-slug"),params:{slug:e.slug,lang:e.lang}};else{var r;n={name:"free-".concat(e.asset,"-slug"),params:{category:(null===(r=e.additional_informations)||void 0===r?void 0:r.category)||this.$tc("default-asset-category.".concat(e.asset)),slug:e.slug,lang:e.lang}}}return this.$helper.localize(n)},itemRouter:function(e){return this.$router.resolve(this.itemRoute(e))},packRoute:function(e){var t,n=null;if("illustration"===e.asset&&null!==(t=e.additional_informations)&&void 0!==t&&t.kbi)n={name:"".concat(e.asset,"-kit-slug"),params:{slug:e.slug,lang:e.lang}};else if(e.price>0)n={name:"".concat(e.asset,"-pack-slug"),params:{slug:e.slug,lang:e.lang}};else{var r;n={name:"free-".concat(e.asset,"-pack-slug"),params:{category:(null===(r=e.additional_informations)||void 0===r?void 0:r.category)||this.$tc("default-asset-category.".concat(e.asset)),slug:e.slug,lang:e.lang}}}return this.$helper.localize(n)},packRouter:function(e){return this.$router.resolve(this.packRoute(e))}}}},1299:function(e,t,n){"use strict";n(34),n(29),n(19),n(36),n(24),n(37);var r=n(11),o=n(5),c=(n(40),n(158),n(10),n(25),n(46),n(100),n(51),n(59),n(31),n(50),n(44),n(392)),l=n.n(c),d=n(3),m=n(1442),f=n(1223),h=n(1210),v=n(1298),w=n(80),k=n(1276);function y(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={mixins:[w.a,k.a],computed:{selectedLicense:function(){return this.item.licenses.length?this.item.licenses[0]:l()(this.item.licenses,{id:71})},downloadedByMe:function(){return this.item.licenses.find((function(e){return e.downloaded_by_user}))},creditUrl:function(){var e=this.item.slug.replace(/-\d*$/g,"");return e.split("-").length>3&&(e=e.split("-")[0]),"https://iconscout.com"+this.$router.resolve({name:"".concat(this.item.asset,"s-slug"),params:{slug:e}}).href}},methods:{preDownload:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var o,c,l,d,m,f,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t.handleAuth()){r.next=35;break}if(!t.downloadedByMe){r.next=5;break}return r.abrupt("return",t.download(e));case 5:if(!e.base64){r.next=9;break}return r.abrupt("return",t.download(e));case 9:if(0!==t.selectedLicense.price||t.hasSubscriptionAsset(t.item.asset)){r.next=34;break}if(o="icon"===t.item.asset?t.item.urls.original:t.preview2x,!(c=!(!e.canBeBranded||"3d"===t.item.asset||!t.$store.getters["brandPalettes/selectedPalette"]))){r.next=32;break}if(!t.lottieBrandedJson){r.next=17;break}o=t.lottieBrandedJson,r.next=32;break;case 17:if("lottie"!==t.item.asset){r.next=30;break}if(!(l=document.querySelector("#pdp-lottie-player-".concat(t.item.id)))){r.next=27;break}return r.next=22,l.getLottie();case 22:d=r.sent,m=d.animationData,o=JSON.stringify(m),r.next=28;break;case 27:c=!1;case 28:r.next=32;break;case 30:(f=document.getElementById("pdpColorEditor-".concat(t.item.id)))?o=f.src:c=!1;case 32:return h=function(){e.pauseCreditModal?(t.$nuxt.$off("show-credit-modal"),t.$nuxt.$once("show-credit-modal",(function(){t.$modal.open({id:"modalDownloadCredit",component:Promise.all([n.e(0),n.e(34)]).then(n.bind(null,1567)),props:{item:t.item,url:t.creditUrl,selectedLicense:t.selectedLicense,productType:"item",isBranded:c,preview:o},options:{modalOnModal:!0}})}))):t.$modal.open({id:"modalDownloadCredit",component:Promise.all([n.e(0),n.e(34)]).then(n.bind(null,1567)),props:{item:t.item,url:t.creditUrl,selectedLicense:t.selectedLicense,productType:"item",isBranded:c,preview:o},options:{modalOnModal:!0}})},r.abrupt("return",t.download(e,h));case 34:return r.abrupt("return",t.download(e));case 35:case"end":return r.stop()}}),r)})))()},download:function(e){var t=arguments,r=this;return Object(o.a)(regeneratorRuntime.mark((function o(){var c,l,w,k,y,$,D,P,x,j,C,_,A,L,T,S,B,N,R,E,track,I,data,M,z,title;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return c=e.format,l=e.size,w=void 0===l?null:l,k=e.licenseId,y=e.base64,$=void 0!==y&&y,D=e.url,P=void 0!==D&&D,x=e.downloadUrl,j=void 0!==x&&x,C=e.canBeBranded,_=void 0!==C&&C,A=e.location,L=e.nuxtLoader,T=void 0===L||L,S=e.action,B=void 0===S?"download":S,N=e.entity,R=void 0===N?f.a.CORE_ASSETS:N,E=e.track,track=void 0===E||E,I=t.length>1&&void 0!==t[1]?t[1]:null,o.prev=2,T&&r.$nuxt.$loading.start(),track&&d.default.gtm.trackEvent({event:"event",category:"download-".concat(r.item.asset),action:c,label:JSON.stringify(w)}),track&&r.$analytics.track("download",{route_name:r.$route.name,route_path:r.$route.path,location:A,action:B,data:O(O({},Object(h.a)(r,{item:r.item,canBranded:_})),{},{list:r.trackListName,format:c,size:w,entity:R},$&&{isBase64:$})}),data={uuid:r.item.uuid,format:c,licenseId:k||r.selectedLicense.id,size:w},_&&r.$store.getters["brandPalettes/selectedPalette"]&&(data.brandPaletteId=r.$store.getters["brandPalettes/selectedPalette"].id),o.next=10,Object(v.a)(data);case 10:if(M=o.sent,T&&r.$nuxt.$loading.finish(),z=["gif","mp4"].includes(c),I&&!z&&I(),["lotties-slug","lottie-slug"].includes(r.$route.name)&&0!==r.selectedLicense.price&&r.$store.commit("counters/incLottieItemDownloads"),!$){o.next=17;break}return o.abrupt("return",Object(m.a)(M.url));case 17:if(!j){o.next=19;break}return o.abrupt("return",M.download_url);case 19:if(!P){o.next=21;break}return o.abrupt("return",M.url);case 21:if(!z){o.next=33;break}return o.prev=22,o.abrupt("return",n.e(53).then(n.bind(null,2685)).then((function(e){return new Promise((function(t){e.executeOnce({worker:r.$worker.initDownloadManager,message:{url:M.download_url,name:"".concat(r.item?r.item.name:"Animation",".").concat(c)},onResponse:function(e){var o=e.data,c=o.blob,l=o.name,d=o.error;d?(console.error(d),r.onError&&r.onError(),r.isLoading=null):n.e(570).then(n.t.bind(null,1304,7)).then((function(e){return e.saveAs(c,l),r.isLoading=null,I&&I(),t()}))}})}))})));case 26:o.prev=26,o.t0=o.catch(22),console.error(o.t0),r.isLoading=null,r.onError&&r.onError();case 31:o.next=34;break;case 33:window.location.href=M.download_url;case 34:return o.abrupt("return",M.download_url);case 37:o.prev=37,o.t1=o.catch(2),console.error(o.t1),o.t1.response&&400===o.t1.response.status?r.$modal.open({id:"modalDownloadLimit",component:Promise.all([n.e(0),n.e(81)]).then(n.bind(null,1568)),options:{track:!0,modalOnModal:!0}}):(title=o.t1.response&&o.t1.response.data&&o.t1.response.data.message||o.t1.message,r.$root.$bvToast.toast(title,{title:title,variant:"danger",toaster:"b-toaster-bottom-center",solid:!1,noAutoHide:!1,bodyClass:"d-none"}));case 41:return o.prev=41,r.$nuxt.$loading.finish(),o.finish(41);case 44:case"end":return o.stop()}}),o,null,[[2,37,41,44],[22,26]])})))()},preWatermarkedDownload:function(){return this.$store.state.settings.freeWatermarkDownloadCount<3?(this.$store.commit("settings/setFreeWatermarkDownloadCount"),!0):(this.$modal.open({id:"modalDownloadLimit",component:Promise.all([n.e(0),n.e(81)]).then(n.bind(null,1568)),options:{track:!0,modalOnModal:!0}}),!1)}}}},1333:function(e,t,n){"use strict";n(158),n(10);var r=n(80);t.a={mixins:[r.a],computed:{canDownload:function(){return 0===this.item.price||this.item.licenses.find((function(e){return e.downloaded_by_user||76!==e.id&&e.is_subscription}))||this.hasSubscriptionAsset(this.item.asset)}}}},1416:function(e,t,n){"use strict";var r=n(11),o=(n(10),n(51),n(59),n(44),n(31),n(34),n(29),n(19),n(36),n(24),n(37),n(311)),c=n.n(o),l=n(1210),d=n(1333);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function f(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={mixins:[d.a],methods:{handleDownload:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.openPricingInNewTab,c=void 0!==o&&o,l=r.forceCanNotDownload,d=void 0!==l&&l;return!!this.handleAuth({trackAuth:function(){return t.trackDownloadCTA({event:e,postAction:"auth"})}})&&(d?(this.goToPricing(e,{openPricingInNewTab:c,forceCanNotDownload:d}),!1):!!this.canDownload||(this.$store.state.user.previousSubscription?(this.trackDownloadCTA({event:e,postAction:"modalUpdatePaymentDetails"}),void this.$modal.open({id:"modalUpdatePaymentDetails",component:Promise.all([n.e(0),n.e(77)]).then(n.bind(null,2675)),options:{track:!0,modalOnModal:!0,extraTrackingData:{from_location:"item-template-download",from_asset:this.item.asset}},props:{previousSubscription:this.$store.state.user.previousSubscription}})):(this.goToPricing(e,{openPricingInNewTab:c,forceCanNotDownload:d}),!1)))},goToPricing:function(e,t){if(this.trackDownloadCTA({event:e,postAction:"pricing",forceCanNotDownload:t.forceCanNotDownload}),t.forceCanNotDownload||t.openPricingInNewTab){var n="".concat("https://iconscout.com").concat(this.$router.resolve(this.$helper.localize({name:"pricing"})).href);window.open(n,"_blank")}else this.$router.push(this.$helper.localize({name:"pricing"}))},trackDownloadCTA:function(e){var t=e.event,n=e.postAction,r=e.forceCanNotDownload,o=void 0!==r&&r;this.$analytics.track(t.name,{route_name:this.$route.name,route_path:this.$route.path,location:this.trackListName,action:t.action,data:f(f(f({postAction:n},Object(l.a)(this,{item:this.item,canBranded:!c()(t,"canBranded")||t.canBranded})),t.extraTrackingData&&f({},t.extraTrackingData)),"pricing"===n&&o&&{isFreeItemSaleSelected:o})})}}}},1442:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return m}));var r=n(5),o=(n(40),n(1222),n(10),n(1285),n(1230),n(1231),n(1232),n(1233),n(1234),n(1235),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1245),n(1246),n(1247),n(1248),n(1249),n(1250),n(1251),n(1252),n(44),n(33)),c=n.n(o),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},script=document.createElement("script");for(var r in script.src=e,t)script[r]=t[r];for(var o in n)script.dataset[o]=n[o];document.head.appendChild(script)},d=function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(t){var n,r,o,l,i,d,m,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={url:t,responseType:"arraybuffer",withCredentials:!1},e.next=3,c()(n);case 3:for(r=e.sent,o=new Uint8Array(r.data),l="",i=0,d=o.length;i<d;i+=1)l+=String.fromCharCode(o[i]);return m=window.btoa(l),f=r.headers["content-type"].toLowerCase(),e.abrupt("return","data:".concat(f,";utf8;base64,").concat(m));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(e){return Math.floor(100*e)/100}}}]);
